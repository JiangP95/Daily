# Redis
	主从，哨兵，集群
# 1.主从
	通过持久化，Redis保证了即使在服务器重启的情况下也不会损失数据。避免了单点故障，通常的做法是将数据库复制多个副本以部署在不同的服务器上。
# 2.哨兵
	当主数据库遇到异常中断时，开发者可以通过手动的方式选择一个从数据库升级为主数据库。
    哨兵的作用是监控redis主从数据库是否正常运行，主数据库出现故障时，自动将从数据库转换为主数据库。
# 3.集群
	即使使用哨兵，redis每个实例也是全量存储，每个redis存储的内容都是完整的数据，浪费内存且有木桶效应。为了最大化利用内存，可以采用集群，就是分布式存储，即每台redis存储不同的内容。
    
    
# Redis更新策略
## 1.Cache Aside Pattern
	1. 失效：应用程序从cache中取数据，没有得到，从数据库中取数据，成功后，放到缓存中。
	2. 命中：从cache中取数据，取到后返回。
	3. 更新：先更新数据库，成功后，再让缓存失效。

## 2. Read/Write Through Pattern
	对于第一种方案来说，我们应用代码都需要维护两个数据存储，一个是缓存cache，一个是数据库，而Read/Write Through 是把更新数据库的操作由缓存自己代理了
 	1. Read Through  
 		在查询中更新缓存
    2. Write Through
    	在更新数据库发生，先更新缓存，由cache自己去更新数据库，没有命中缓存，直接更新数据库。
 ## 3. Write Behind Caching Pattern
 	Write back： Linux文件系统的Page Cache算法
    在更新数据库时，只更新缓存，不更新数据库，而我们的缓存会异步地批量更新数据库。这个设计的好处是让数据库的I/O操作飞快无比；因为异步，write back还可以合并对同一个数据库的多次操作。
    缺点：数据不是强一致性。
