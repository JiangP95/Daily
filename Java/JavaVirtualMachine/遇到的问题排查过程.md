# 问题与排除

## 一 OCR图像检测
### 现象
	短时间内，java虚拟机内存正常，物理内存不断上升，直至物理内存被打爆，机器重启
### 诊断
	堆外内存溢出
### 诊断过程
	pperf 和 jemelloc 工具
    发现物理内存clone 那个方法占了 40% 多的内存
	未完。。。
### 原因
	使用功能opencv时 图像mat对象未手动释放，opencv底层为c++实现，直接使用物理内存，jvm在垃圾回收时无法直接回收opencv操作的对象内存
### 解决
	在程序中使用完opencv对象时手动释放

## 二 堆内存溢出
	jvisualvm 工具 dump文件分析大对象